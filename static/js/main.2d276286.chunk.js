(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"Modal_Overlay__1JT9u",Modal:"Modal_Modal__10-Nr"}},22:function(e,a,t){e.exports={App:"App_App__PXMa2"}},23:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__3Zu9d"}},26:function(e,a,t){e.exports={button:"Button_button__2BEvG"}},28:function(e,a,t){e.exports=t(74)},33:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(21),c=t.n(o),l=(t(33),t(11)),i=t(3),s=t(4),u=t(6),m=t(5),h=t(7),p=t(22),g=t.n(p),d=t(8),f=t.n(d),b=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).state={query:""},t.handleChange=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state.query;return n.a.createElement("header",{className:f.a.Searchbar},n.a.createElement("form",{className:f.a.SearchForm,onSubmit:this.handleSubmit},n.a.createElement("button",{type:"submit",className:f.a.SearchForm_button},n.a.createElement("span",{className:f.a.SearchForm_button_label},"Search")),n.a.createElement("input",{className:f.a.SearchForm_input,type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(r.Component),y=t(23),_=t.n(y),v=t(1),S=t.n(v),I=t(9),E=t.n(I),k=function(e){var a=e.webformatURL,t=e.largeImageURL,r=e.onImgClick;return n.a.createElement("li",{className:E.a.ImageGalleryItem,onClick:function(){return r(t)}},n.a.createElement("img",{src:a,alt:"img",className:E.a.ImageGalleryItem_image}))};k.propType={webformatURL:S.a.string.isRequired,largeImageURL:S.a.string.isRequired,onImgClick:S.a.func.isRequired};var O=k,F=t(24),j=t.n(F),C=t(25),M=t.n(C);t(56);function w(){return n.a.createElement(M.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}var N=function(e){var a=e.items,t=e.onImgClick,r=e.onFetch,o=e.hasMore;return n.a.createElement(j.a,{pageStart:0,loadMore:r,hasMore:o,loader:n.a.createElement("div",{className:"loader",key:0},n.a.createElement(w,null))},n.a.createElement("ul",{className:_.a.ImageGallery},a.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e,{onImgClick:t}))}))))},G=t(26),x=t.n(G),R=function(){return n.a.createElement("button",{type:"button",className:x.a.button},"Load more")},U=t(27),q=t.n(U),A="15289703-43002e1369874935da9758818",B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return q.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat(A,"&image_type=photo&orientation=horizontal&per_page=12\n        ")).then((function(e){return{images:e.data.hits,total:e.data.total}}))},L=function(e){var a=e.text;return n.a.createElement("h2",null,"Woops, something went wrong: ",a)},P=t(10),Q=t.n(P),D=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).backdropRef=Object(r.createRef)(),t.handleKeyPress=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){var a=t.backdropRef.current;a&&e.target!==a||t.props.onClose()},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return n.a.createElement("div",{className:Q.a.Overlay,ref:this.backdropRef,onClick:this.handleBackdropClick},n.a.createElement("div",{className:Q.a.Modal},e))}}]),a}(r.Component),J=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).state={images:[],searchQuery:"",page:1,largeImageUrl:"",isOpen:!1,error:null,hasMore:!0},t.openModal=function(e){t.setState({largeImageUrl:e,isOpen:!0})},t.closeModal=function(){return t.setState({largeImageUrl:"",isOpen:!1})},t.fetchImages=function(){var e=t.state,a=e.searchQuery,r=e.page;B(a,r).then((function(e){var a=e.images,n=e.total;return t.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(a)),page:e.page+1,hasMore:n>12*r}}))})).catch((function(e){return t.setState({error:e})}))},t.handleSearchFormSubmit=function(e){t.state.searchQuery!==e&&t.setState({searchQuery:e,images:[],page:1})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.state.searchQuery;a.searchQuery!==t&&this.fetchImages()}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isOpen,r=e.largeImageUrl,o=e.error,c=e.hasMore;return n.a.createElement("div",{className:g.a.App},n.a.createElement(b,{onSubmit:this.handleSearchFormSubmit}),a.length>0&&n.a.createElement(N,{items:a,onImgClick:this.openModal,onFetch:this.fetchImages,hasMore:c}),t&&n.a.createElement(D,{onClose:this.closeModal},n.a.createElement("img",{src:r,alt:"img"})),o&&n.a.createElement(L,{text:o.message}),a.length>0&&n.a.createElement(R,null))}}]),a}(r.Component);c.a.render(n.a.createElement(J,null),document.getElementById("root"))},8:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__EPaXs",SearchForm:"Searchbar_SearchForm__3iX1u",SearchForm_button:"Searchbar_SearchForm_button__2cp0F",SearchForm_button_label:"Searchbar_SearchForm_button_label__3DKnU",SearchForm_input:"Searchbar_SearchForm_input__34J3u"}},9:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2ZZcc",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__2B0Vd"}}},[[28,1,2]]]);
//# sourceMappingURL=main.2d276286.chunk.js.map